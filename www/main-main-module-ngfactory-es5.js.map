{"version":3,"sources":["webpack:///src/app/main/main.module.ts","webpack:///src/app/main/main.page.html","webpack:///src/app/main/main.page.ts"],"names":["routes","path","component","MainPageModule","MainPage","aut","router","services","logued","authState","subscribe","user","console","log","id","uid","getProfile","navigateByUrl","signOut","res","data","length","item"],"mappings":"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","file":"main-main-module-ngfactory-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MainPage } from './main.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MainPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [MainPage]\n})\nexport class MainPageModule {}\n","<ion-header no-border>\n  <ion-toolbar no-border>\n      <ion-title>\n          Ionic 4 Firestart\n      </ion-title>\n  <ion-buttons slot=\"start\" >\n      <ion-button [routerLink]=\"['/profile']\" >\n        <ion-icon color=\"primary\" slot=\"icon-only\" name=\"contact\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content padding>\n\n  <div class=\"form\">\n  \n    <ion-card color=\"\" mode=\"ios\">\n\n      <ion-card-content *ngFor=\"let item of item\">\n        <h1 class=\"goodfont\">Welcome back {{item.payload.doc.data().name }} !</h1>\n      </ion-card-content>\n    </ion-card>\n    <br>\n    <br>\n    <!-- Not working right now!!!  -->\n   \n  </div>\n\n  <!-- Animation -->\n\n  \n  \n  \n\n</ion-content>","\nimport { Component , OnInit} from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { auth } from 'firebase/app';\nimport { Router } from '@angular/router';\nimport { ServicesService } from '../services/services.service';\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.page.html',\n  styleUrls: ['./main.page.scss'],\n})\nexport class MainPage implements OnInit {\n\n  item: any;\n  id: string;\n\n  constructor(private aut: AngularFireAuth,\n    private router: Router , public services: ServicesService ) {\n    }\n\n  ngOnInit() {\n    this.logued();\n  }\n\n\n\n  logued() {\n    this.aut.authState\n      .subscribe(\n        user => {\n          if (user) {\n            console.log('loged');\n            this.id = user.uid;\n            console.log(this.id);\n            this.getProfile(this.id);\n          } else {\n            this.router.navigateByUrl('/login');\n          }\n        },\n        () => {\n          // this.router.navigateByUrl('/login');\n        }\n      );\n  }\n\n  async signOut() {\n    const res = await this.aut.signOut();\n    console.log(res);\n    this.router.navigateByUrl('/login');\n  }\n\n  async getProfile(id) {\n    await this.services.getProfile(id).subscribe((data: any) => {\n      if (data.length === 0) {\n        console.log('profile empty');\n        this.router.navigateByUrl(`edit-profile`);\n      } else {\n        console.log('Profile not empty');\n        console.log(data);\n        this.item = data;\n      }\n    });\n  }\n\n\n  profile() {\n    this.router.navigateByUrl(`profile`);\n  }\n}\n"]}